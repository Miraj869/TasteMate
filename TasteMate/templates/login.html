{% extends "base.html" %}

{% block head %}
<title>Login Page</title>
<style>
/* Flash message styling */
.flashes {
  list-style: none;
  padding: 0;
  margin: 0 0 20px 0;
}

.flashes li {
  font-size: 16px;
  margin: 0;
  padding: 10px 20px;
  border: 1px solid #ccc;
  background-color: #f8d7da;
  color: #721c24;
  border-color: #f5c6cb;
  border-radius: 4px;
  box-sizing: border-box;
  text-align: center;
}

.flashes li.success {
  background-color: #d4edda;
  color: #155724;
  border-color: #c3e6cb;
}

.flashes li.warning {
  background-color: #fff3cd;
  color: #856404;
  border-color: #ffeeba;
}

.flashes li.info {
  background-color: #d1ecf1;
  color: #0c5460;
  border-color: #bee5eb;
}

.flashes li.danger {
  background-color: #f8d7da;
  color: #721c24;
  border-color: #f5c6cb;
}
</style>
{% endblock %}

{% block content %}
<body class="login-page">
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
  <ul class="flashes">
    {% for category, message in messages %}
      <li class="{{ category }}">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}
{% endwith %}

<main class="form-signin bg-white rounded-3 bg-opacity-75">
  <form method="post" action="{{ url_for('login') }}">
    {{ form.hidden_tag() }}
    <img class="mb-4 icon " src="static/images/logo-no-background.svg" >
    <h1 class="h3 mb-3 fw-normal">Please sign in</h1>

    <div class="form-floating">
      {{ form.user_id(size=32, class="form-control", id="floatingUsername") }}
      <label for="floatingUsername">{{ form.user_id.label }}</label>
    </div>
    <div class="form-floating mt-3">
      {{ form.password(size=32, class="form-control", id="floatingPassword") }}
      <label for="floatingPassword">{{ form.password.label }}</label>
    </div>

    <div class="checkbox mb-3">
      {{ form.remember_me(class="form-check-input") }} {{ form.remember_me.label(class="form-check-label") }}
    </div>
    <button class="btn btn-primary" type="submit">Sign in</button>
    <button class="btn btn-primary" type="submit" onclick="window.location.href='/register'">Register</button>
    <p class="mt-5 mb-3 text-muted">&copy; 2023 Food Recommendation System</p>
  </form>
</main>
</body>
{% endblock %}
